"use strict";var Model=function(r,t,e,i,a){this.vbo=r.createBuffer(),this.ibo=r.createBuffer(),this.nbo=r.createBuffer(),this.nPoints=e.length,this.world=mat4.create(),this.color=a,r.bindBuffer(r.ARRAY_BUFFER,this.vbo),r.bufferData(r.ARRAY_BUFFER,new Float32Array(t),r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,this.nbo),r.bufferData(r.ARRAY_BUFFER,new Float32Array(i),r.STATIC_DRAW),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this.ibo),r.bufferData(r.ELEMENT_ARRAY_BUFFER,new Uint16Array(e),r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,null),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null)},CreateShaderProgram=function(r,t,e){var i=r.createShader(r.VERTEX_SHADER);if(r.shaderSource(i,t),r.compileShader(i),!r.getShaderParameter(i,r.COMPILE_STATUS))return{error:"Error compiling vertex shader: "+r.getShaderInfoLog(i)};var a=r.createShader(r.FRAGMENT_SHADER);if(r.shaderSource(a,e),r.compileShader(a),!r.getShaderParameter(a,r.COMPILE_STATUS))return{error:"Error compiling fragment shader: "+r.getShaderInfoLog(a)};var o=r.createProgram();return r.attachShader(o,i),r.attachShader(o,a),r.linkProgram(o),r.getProgramParameter(o,r.LINK_STATUS)?(r.validateProgram(o),r.getProgramParameter(o,r.VALIDATE_STATUS)?o:{error:"Error validating program: "+r.getProgramInfoLog(o)}):{error:"Error linking program: "+r.getProgramInfoLog(o)}},Camera=function(r,t,e){this.forward=vec3.create(),this.up=vec3.create(),this.right=vec3.create(),this.position=r,vec3.subtract(this.forward,t,this.position),vec3.cross(this.right,this.forward,e),vec3.cross(this.up,this.right,this.forward),vec3.normalize(this.forward,this.forward),vec3.normalize(this.right,this.right),vec3.normalize(this.up,this.up)};Camera.prototype.GetViewMatrix=function(r){var t=vec3.create();return vec3.add(t,this.position,this.forward),mat4.lookAt(r,this.position,t,this.up),r},Camera.prototype.rotateRight=function(r){var t=mat4.create();mat4.rotate(t,t,r,vec3.fromValues(0,0,1)),vec3.transformMat4(this.forward,this.forward,t),this._realign()},Camera.prototype._realign=function(){vec3.cross(this.right,this.forward,this.up),vec3.cross(this.up,this.right,this.forward),vec3.normalize(this.forward,this.forward),vec3.normalize(this.right,this.right),vec3.normalize(this.up,this.up)},Camera.prototype.moveForward=function(r){vec3.scaleAndAdd(this.position,this.position,this.forward,r)},Camera.prototype.moveRight=function(r){vec3.scaleAndAdd(this.position,this.position,this.right,r)},Camera.prototype.moveUp=function(r){vec3.scaleAndAdd(this.position,this.position,this.up,r)};
//# sourceMappingURL=index.f866ab9c.js.map
